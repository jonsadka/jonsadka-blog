{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/how-to-deploy-imgproxy-to-google-cloud-using-docker-and-cloud-run","result":{"data":{"markdownRemark":{"html":"<h3>Goal</h3>\n<p>Be able to host a production instance of imgproxy on Google Cloud within minutes.</p>\n<h3>Walkthrough</h3>\n<ol>\n<li>Open the Cloud Terminal</li>\n<li>\n<p>Follow the <code>Before you begin</code> section listed here (<a href=\"https://cloud.google.com/container-registry/docs/pushing-and-pulling\">https://cloud.google.com/container-registry/docs/pushing-and-pulling</a>)</p>\n<ul>\n<li><code>$ sudo usermod -a -G docker ${USER}</code></li>\n<li><code>$ gcloud auth configure-docker</code></li>\n</ul>\n</li>\n<li>\n<p>Pull the latest docker image (<a href=\"https://docs.imgproxy.net/#/installation\">https://docs.imgproxy.net/#/installation</a>)</p>\n<ul>\n<li><code>$ docker pull darthsim/imgproxy:latest</code></li>\n</ul>\n</li>\n<li>\n<p>Tag the container</p>\n<ul>\n<li><code>$ docker tag darthsim/imgproxy gcr.io/xxxxxxx-public-assets/imgproxy</code></li>\n</ul>\n</li>\n<li>\n<p>Push the container</p>\n<ul>\n<li><code>$ docker push gcr.io/xxxxxxx-public-assets/imgproxy</code></li>\n<li>Copy the sha (i.e. <code>sha256:12345...54321</code>)</li>\n</ul>\n</li>\n<li>Head to <code>Cloud Run</code></li>\n<li>\n<p>Create Service</p>\n<ul>\n<li>Enter your service name</li>\n<li>Click <code>Allow unauthenticated invocations</code></li>\n<li>Hit Next, click <code>Select</code> on the input and search for the desired image</li>\n<li>Alternatively, manually build the url and paste the sha (or <code>gcr.io/xxxxxxx-public-assets/imgproxy@sha256:12345...54321</code>)</li>\n</ul>\n</li>\n</ol>","frontmatter":{"date":"1590562800000","path":"/blog/how-to-deploy-imgproxy-to-google-cloud-using-docker-and-cloud-run","title":"How to deploy imgproxy to Google Cloud using Docker and Cloud Run"}}},"pageContext":{}},"staticQueryHashes":[]}