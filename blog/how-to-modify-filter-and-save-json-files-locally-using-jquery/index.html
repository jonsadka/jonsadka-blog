<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/component---src-layouts-index-js-5f157732da8da2dbb37a.js" as="script"/><link rel="preload" href="/component---src-templates-blog-post-js-c324d7012f35fe91c68a.js" as="script"/><link rel="preload" href="/path---blog-how-to-modify-filter-and-save-json-files-locally-using-jquery-38d2155524508e26f96d.js" as="script"/><link rel="preload" href="/app-870a56c8479fd0771536.js" as="script"/><link rel="preload" href="/commons-4cb32e608b8de57ad14a.js" as="script"/><style type="text/css" data-styled-components="ctRCMp kKRaWR cXQded" data-styled-components-is-local="true">/* sc-component-id: sc-bdVaJa */

.ctRCMp{font-size:14px;font-weight:700;}
/* sc-component-id: sc-bwzfXH */

.kKRaWR{color:#394047;font-family:'Questrial';font-size:36px;line-height:44px;margin-bottom:1.45rem;}
/* sc-component-id: sc-htpNat */

.cXQded{color:#a3a3a3;line-height:20px;font-size:14px;font-family:'Questrial';}
</style><title data-react-helmet="true">Jon Sadka - How to modify, filter, and save JSON files locally using jQuery</title><meta data-react-helmet="true" name="description" content="Jon Sadka&#x27;s Blog and Portfolio"/><meta data-react-helmet="true" name="keywords" content="blog, sadka, jon, jon sadka, visualization, front end, software engineer, portfolio"/><script>
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-53344458-1',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-53344458-1', 'auto');
  ga('set', 'anonymizeIp', 1);</script><style id="gatsby-inlined-css">@import url(https://fonts.googleapis.com/css?family=Libre+Franklin|Questrial);html{font-family:Questrial,sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;color:#1644ce;text-decoration:none;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:Questrial,georgia,serif;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt","kern"}img{margin:0;padding:0}h1{margin:0 0 1.45rem;font-weight:700;font-size:2.25rem;line-height:1.1}h1,h2{padding:0;color:inherit;font-family:Questrial,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;text-rendering:optimizeLegibility}h2{font-size:28px;letter-spacing:.05rem;margin:0 0 30px}h3{font-size:1.38316rem}h3,h4{margin:0 0 1.45rem;padding:0;color:inherit;font-family:Questrial,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{margin:0 0 1.45rem;padding:0;color:inherit;font-family:Questrial,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{margin:0 0 1.45rem;padding:0}ul{margin-right:0;margin-top:0;margin-bottom:1.45rem;list-style-type:none}ol,ul{padding:0;list-style-position:outside;list-style-image:none}ol{margin:0 0 1.45rem 1.45rem}dd,dl{margin:0 0 1.45rem}dd,dl,p{padding:0}p{margin-left:0;margin-right:0;margin-top:0;color:#a3a3a3;margin-top:30px;font-size:14px}figure{padding:0}figure,pre{margin:0 0 1.45rem}pre{padding:0;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{margin:0 0 1.45rem;padding:0}blockquote{margin:0 1.45rem 1.45rem;padding:0}form,iframe,noscript{margin:0 0 1.45rem;padding:0}hr,iframe{border:none}hr{margin:0 0 calc(1.45rem - 1px);padding:0;background:rgba(0,0,0,.2);height:1px}address{margin:0 0 1.45rem;padding:0}b,dt,strong,th{font-weight:700}li{color:#a3a3a3;margin-bottom:30px}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:0;padding-top:.2em;padding-bottom:.2em}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}</style></head><body><div id="___gatsby"><div data-reactroot="" data-reactid="1" data-react-checksum="1809491529"><!-- react-empty: 2 --><div style="margin-bottom:1.45rem;" data-reactid="3"><div style="margin:0 auto;max-width:960px;padding:1.45rem 1.0875rem;" data-reactid="4"><div class="sc-bdVaJa ctRCMp" style="margin:0;" data-reactid="5"><a style="color:black;font-family:Libre Franklin;text-decoration:none;" href="/" data-reactid="6">Jon Sadka.</a></div></div></div><div style="margin:0 auto;max-width:960px;padding:0px 1.0875rem 1.45rem;padding-top:0;" data-reactid="7"><div class="blog-post-container" data-reactid="8"><!-- react-empty: 9 --><div class="blog-post" data-reactid="10"><div class="sc-bwzfXH kKRaWR" data-reactid="11">How to modify, filter, and save JSON files locally using jQuery</div><div class="blog-post-content sc-htpNat cXQded" data-reactid="12"><p><strong>3/19/2015 Update:</strong> I went ahead and created a little application to help make things easier which can be found here <a href="https://github.com/jonsadka/jsonReducer">https://github.com/jonsadka/jsonReducer</a></p>
<p>There are many API’s available for use, many of which are free and provide lots of fun data to play with, however there is one common hurdle to overcome with each; the structure in which data is returned from the database varies greatly with each API. Upon an API request, the company server compiles this data into a JSON data object and sends it for a client’s use. The dataset returned is a one-size fits all approach and sometimes even requires postprocessing. Finding ways to postprocess this local data was lacking on the internet. I decided to create a way of my own by using Chrome and jQuery to filter this data, format the data in a desired format, and shrink the size of the file drastically.</p>
<h3>jQuery script</h3>
<p>The first thing we must do is create a <code>reducer.js</code> file; <code>reducer.js</code> will contain the filter and formatting rules on a passed in JSON object. To start this script, we declare a global <code>reducedData</code> variable which will contain our final product. Right below this variable declaration we will use jQuery to import our data.json file and within that callback is where our data manipulation will occur. Once we are satisfied with how the data is formatted, we will set <code>reducedData</code> as the result of this operation as follows:</p>
<pre><code class="language-javascript">// set the global variable
var reducedData;

// setup the jQuery function to fetch the local json file
var modifyData = function(){
  $.getJSON('data.json', function(json){
    var result;

    // modify data.json file and modify result;

    // set the result to reduced data before leaving the callback
    // write yourself a message indicating that the script is finished
    console.log('All done making your data smaller and prettier!');
    reducedData = result;
  });
};
</code></pre>
<h3>html component</h3>
<p>Now comes the fun, tricky part. We still have no easy way of running our <code>reducer.js</code> file and invoking modifyData. To accomplish this, we need to fool Chrome into thinking it’s communicating with a live server rather than our local machine because when developing locally, browsers often enforce strict permissions for reading files out of the local file system. First, lets create an <code>index.html</code> file so that Chrome has a page to navigate to. The following <code>index.html</code> file is sufficient and should also be placed in the same directory as <code>reducer.js</code>:</p>
<pre><code class="language-html">&#x3C;!DOCTYPE html>
&#x3C;html>
  &#x3C;head>
    &#x3C;meta charset="utf-8">
    &#x3C;title>ReduceData&#x3C;/title>
    &#x3C;script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js">&#x3C;/script>
  &#x3C;/head>
  &#x3C;body>
    &#x3C;h3>Reduce The Data Please&#x3C;/h3>
    &#x3C;script type="text/javascript" src="reducer.js" charset="utf-8">&#x3C;/script>
  &#x3C;/body>
&#x3C;/html>
</code></pre>
<h3>Server setup</h3>
<p>Next, we need to open up our terminal and navigate to the folder where our <code>reducer.js</code> file is. Once in that folder, we can run the following command to boot up a local server:</p>
<ul>
<li>python: <code>python -m SimpleHTTPServer 8888</code></li>
<li>python 3+: <code>python -m http.server 8888</code></li>
<li>php: <code>php -S localhost:8888</code></li>
<li>ruby: <code>ruby -run -e httpd . -p 8888</code></li>
</ul>
<p>Typically a message in the terminal will notify us to navigate to <code>0.0.0.0:8888</code>. Open up chrome and navigate to either <code>0.0.0.0:8888</code> or <code>localhost:8888</code>; you should see "Reduce The Data Please".
bring it all together</p>
<p>Now, open up the Chrome console (<code>command</code> + <code>option</code> + <code>j</code>) and invoke <code>modifyData()</code>. Once the completion message "All done making your data smaller and prettier!"" is displayed, type <code>copy(reducedData)</code> into the console and volla! your data is copied into the clipboard and you can paste this new data anywhere you please.</p>
<p>This is just a boilerplate reducer file and I often find myself adding additional arguments to <code>modifyData</code>. I also want to mention that it appears that this process caps at around a 20MB <code>data.json</code> file for Chrome, so it is not a foolproof method but can handle somewhat meaningful data sets.</p></div></div></div></div></div></div><script id="webpack-manifest">/*<![CDATA[*/window.webpackManifest={"231608221292675":"app-870a56c8479fd0771536.js","107818501498521":"component---src-templates-blog-post-js-c324d7012f35fe91c68a.js","50739212244294":"component---src-templates-tags-js-32c0d92983d4d5a75c26.js","162898551421021":"component---src-pages-404-js-b3e7ca0012663ba8421b.js","195850678278728":"component---src-pages-tags-js-8423b121977ff6e758b9.js","35783957827783":"component---src-pages-index-js-18ab5914c8209efd0dc7.js","60335399758886":"path----557518bd178906f8d58a.js","152214329170102":"path---blog-choosing-the-best-numbers-in-nfl-football-squares-to-beat-your-friends-2e5a07eb7b74a64c8a53.js","133690226149412":"path---blog-how-to-generate-time-series-week-over-week-year-over-year-aggregations-in-mongodb-using-unix-epoch-timestamps-tutorial-and-example-ed016f43e0a4d2c38733.js","95233356588121":"path---blog-how-to-write-data-to-the-beginning-of-a-file-with-node-javascript-tutorial-and-example-258a38ad3780b7765393.js","206168194320328":"path---blog-how-apple-can-catch-up-to-google-ratings-and-yelp-reviews-overnight-27d83a8616a94e7f0faf.js","195169542730238":"path---blog-best-and-worst-times-to-take-an-uber-93d0c72ae150a640b82a.js","4529161709811":"path---blog-how-to-create-adaptive-pie-charts-with-transitions-in-d-3-f1f92b7f7560aac8be35.js","131182293433081":"path---blog-how-to-create-live-updating-and-flexible-d-3-line-charts-using-pseudo-data-2dc03b7a76b0b61336cc.js","59333814150904":"path---blog-how-to-modify-filter-and-save-json-files-locally-using-jquery-38d2155524508e26f96d.js","42882386469154":"path---blog-how-to-quickly-create-randomly-generated-datasets-in-javascript-with-d-3-09c67ab103fff0efc702.js","273029797402817":"path---blog-using-reduce-to-create-arrays-and-objects-in-javascript-45d0856eb9f74d3b96c0.js","185792110582549":"path---blog-how-to-use-the-uber-api-to-get-pricing-data-f2e6dfc4a25b69f5d8ec.js","19075071473338":"path---blog-fight-on-the-power-of-javascript-closures-4e105a17992e60540dc9.js","100982722209036":"path---blog-prototypal-and-pseudoclassical-instantiation-in-javascript-4059287abb9f36399610.js","268645148262682":"path---blog-type-coercion-in-d-3-js-fd87c1759ded40b41ebf.js","133865716084565":"path---blog-supercharge-your-falsey-conditional-statements-in-javascript-39da70760aea44b9ed25.js","127501106087498":"path---tags-d-3-js-cbfb5fcd8081e1a85b95.js","212641908305216":"path---tags-java-script-4050b767b423a22c13dc.js","32135422922473":"path---tags-mongo-db-8a3f7a07e6a3de92fa33.js","4836336648314":"path---tags-ux-ui-a32ac5042b2af955d093.js","155610972471906":"path---tags-api-4bd6b0853b50a4b7196b.js","235634758467862":"path---tags-j-query-269370f4792876ec252c.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","55702396619907":"path---tags-328153fa62f2f720e118.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","142629428675168":"path---index-a2543a124c1ce5a1c887.js","114276838955818":"component---src-layouts-index-js-5f157732da8da2dbb37a.js"}/*]]>*/</script><script>/*<![CDATA[*/!function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",["/commons-4cb32e608b8de57ad14a.js","/app-870a56c8479fd0771536.js","/path---blog-how-to-modify-filter-and-save-json-files-locally-using-jquery-38d2155524508e26f96d.js","/component---src-templates-blog-post-js-c324d7012f35fe91c68a.js","/component---src-layouts-index-js-5f157732da8da2dbb37a.js"])/*]]>*/</script></body></html>